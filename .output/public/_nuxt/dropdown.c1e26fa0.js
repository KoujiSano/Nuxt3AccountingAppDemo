import{k as v,Q as w,r as l,i as p,m as g,h as c,X as x,g as S,j as T,U as A,Y as M}from"./entry.6da81ce3.js";import{B as h,A as k,T as P,e as y,g as b,i as D,I as j,d as C,h as E,m as O,j as U,n as F,a as L,b as Q,f as X,s as Y,o as q,t as z}from"./bslink.bb099a4b.js";const W=v({name:"BsDropdownToggle",props:{...h,...k,...P,tag:{type:String,default:"a"},toggle:{type:String,default:"dropdown"}},setup(e,o){const t=w("toggleRef.dropdown",l()),s=y(e),n=b(e),r=D(e,t),a={ref:t};return()=>p(n.tag,g(a,r,n,s),o.slots)}}),Z=v({name:"BsDropdownItem",props:{...h,...j,...C,...k,...P},setup(e,o){const t=l(),s=y(e),n=E(e,"dropdown-item"),r=O(e,t),a=U(e,"nav",t),d=b(e),i=D(e,t);return()=>p("li",g(s),p(F,g({class:{"dropdown-item":!0},ref:t},d,a,r,i,n),o.slots.default))}}),G={floating:{type:Object},dark:{type:Boolean},autoClose:{type:[Boolean,String],default:!0},alignment:{type:String,default:"start"},offset:{type:String},reference:{type:String}};function H(e,o){var u;const t=l((u=e.floating)==null?void 0:u.placement),s=l(!1),n=w("active.dropdown",l(!1)),r=w("toggleRef.dropdown",l()),a=w("placement.dropdown",l("")),d=c(()=>{switch(a.value){case"dropup":return e.alignment=="end"?"top-end":"top-start";case"dropend":return e.alignment=="end"?"right-end":"right-start";case"dropstart":return e.alignment=="end"?"left-end":"left-start";default:return e.alignment=="end"?"bottom-end":"bottom-start"}}),{floatingStyles:i}=L(r,o,{placement:d.value,whileElementsMounted:Q,middleware:[X(),Y(),q(2)]});[!0,"","outside","true"].includes(e.autoClose)&&x(o,f=>{n.value&&(n.value=!1,f.stopPropagation())}),S(n,f=>{f?_():m()});const _=async()=>{await A(),s.value=!0},m=async()=>{s.value=!1};return{class:c(()=>({"dropdown-menu":!0,"dropdown-menu-dark":e.dark,show:s.value})),style:c(()=>r.value?i.value:{}),attr:c(()=>({...T(n.value,"data-popper-placement",t.value||"")})),state:{useTeleport:!1,tipPlacement:t,isShow:s}}}const $=v({name:"BsDropdownMenu",props:{...h,...G,tag:{type:String,default:"ul"}},setup(e,o){const t=l(),s=y(e),n=H(e,t),r={ref:t};return()=>p(e.tag,g(r,s,n),o.slots)}}),J={placement:{type:String,default:"dropdown"}};function K(e,o,t){const{expose:s,exposeState:n,emit:r}=z(e,t,"dropdown"),a=l(!1),d=l(),i=l(e.placement),_=l(),m=async()=>{a.value||(r(o,"show"),a.value=!0)},u=async()=>{a.value&&(r(o,"hide"),a.value=!1)},f=async()=>(a.value?await u():await m(),a.value),R=M();S(()=>R.fullPath,()=>{u()});const I=s({show:m,hide:u,toggle:f,dismiss:u});n({active:a,buttonID:d,placement:i,toggleRef:_});const B={};return e.placement!="dropdown"&&(B[e.placement]=!0),{class:c(()=>({...B})),attr:c(()=>({"data-bv-active":a.value})),method:I}}const ee=v({name:"BsDropdown",props:{...h,...J,tag:{type:String,default:"div"}},setup(e,o){const t=l(),s=y(e),n=K(e,o,t),r={class:{dropdown:!0},ref:t};return()=>p(e.tag,g(s,n,r),o.slots)}});export{W as _,Z as a,$ as b,ee as c};
